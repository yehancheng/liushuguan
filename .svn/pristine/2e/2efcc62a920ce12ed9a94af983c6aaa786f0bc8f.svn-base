(function(a){a.fn.imgScroll=function(b,e){var d={evtType:"click",visible:1,direction:"x",next:"#next",prev:"#prev",disableClass:"disabled",disableClassPerfix:false,speed:300,step:1,loop:false,showControl:false,width:null,height:null,navItems:false,navItmesWrapClass:"scroll-nav-wrap",navItemActivedClass:"current",status:false,statusWrapClass:"scroll-status-wrap"};var c=a.extend(d,b);return this.each(function(){var t=a(this),x=t.find("ul").eq(0),A,f=x.find("li"),H=f.length,o=null,k=null,j=typeof c.next=="string"?a(c.next):c.next,h=typeof c.prev=="string"?a(c.prev):c.prev,B=0,q=c.step,i=c.visible,N=Math.ceil((H-i)/q)+1,L=c.loop,z=c.direction,y=c.evtType,n=c.disableClass,K=c.disableClassPerfix?"prev-"+n:n,M=c.disableClassPerfix?"next-"+n:n,s=c.navItems,D=c.navItmesWrapClass,J=a("."+D).length>0,w=c.navItemActivedClass,C=c.status,G=c.statusWrapClass,I=a("."+G).length>0,u=false,r=true,F=(H-i)%q===0;function E(O){if(H>=q+i&&!L){h.addClass(K);j.removeClass(M)}else{if(!L){j.addClass(M)}}if(f.eq(0).css("float")!=="left"){f.css("float","left")}o=c.width||f.eq(0).outerWidth();k=c.height||f.eq(0).outerHeight();t.css({position:t.css("position")=="static"?"relative":t.css("position"),width:O=="x"?o*i:o,height:O=="x"?k:k*i,overflow:"hidden"});x.css({position:"absolute",width:O=="x"?o*H:o,height:O=="x"?k:k*H,top:0,left:0});if(typeof e==="function"){e.apply(t,[B,N,f.slice(B*q,B*q+i),f.slice(B*q+i-q,B*q+i)])}}function m(P,Q){if(x.is(":animated")){return false}if(L){if(r&&Q){B=N}if(u&&!Q){B=-1}P=Q?--B:++B}else{if(r&&Q||u&&!Q){return false}else{P=Q?--B:++B}}A=z=="x"?{left:P>=(N-1)?-(H-i)*o:-P*q*o}:{top:P>=(N-1)?-(H-i)*k:-P*q*k};function O(){if(!L){if(H-P*q<=i){j.addClass(M);u=true}else{j.removeClass(M);u=false}if(P<=0){h.addClass(K);r=true}else{h.removeClass(K);r=false}}else{if(H-P*q<=i){u=true}else{u=false}if(P<=0){r=true}else{r=false}}if(s||C){p(P)}if(typeof e=="function"){e.apply(t,[P,N,f.slice(P*q,P*q+i),f.slice(P*q+i-q,P*q+i)])}}if(!!c.speed){x.animate(A,c.speed,O)}else{x.css(A);O()}}function g(R,O){var P=J?a("."+R).eq(0):a('<div class="'+R+'"></div>');for(var Q=0;Q<N;Q++){P.append("<em "+(Q===0?" class="+O:"")+' title="'+(Q+1)+'">'+(Q+1)+"</em>")}if(!J){t.after(P)}}function v(O){var P=I?a("."+O).eq(0):a('<div class="'+O+'"></div>');P.html("<b>1</b>/"+N);if(!I){t.after(P)}}function p(O){if(s){a("."+D).find("em").removeClass(w).eq(O).addClass(w)}if(C){a("."+G).html("<b>"+(O+1)+"</b>/"+N)}}function l(){h.unbind(y).bind(y,function(){m(B,true)});j.unbind(y).bind(y,function(){m(B,false)})}if(H>i&&i>=q){E(z);l();if(s){g(D,w)}if(C){v(G)}}else{if(c.showControl){j.add(h).show()}else{j.add(h).hide()}h.addClass(K);j.addClass(M)}})}})(jQuery);
